@model LastLibrary.Models.DeckManagerViewModel.DeckModel
@{
    ViewBag.Title = "title";
    Layout = "_Layout";
}

<h2>DeckModel Manager</h2>
    <div class="col-md-12">
        <div class="container-left col-md-6">
            <h1-custom>Search</h1-custom>
            <div id="cardSearchForm">
                <form class="card-search">
                    <div class="form-group">
                        <label for="cardName" id="cardNameLabel">Card Name</label>
                        <input type="text" placeholder="card name" id="cardName" class="input-big">
                    </div>

                    <label id="colourLabel">Colours</label>
                    <div class="form-group">
                        <label class="checkbox-inline">
                            <input type="checkbox" value="black" id="colourBlack"> Black
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" value="white" id="colourWhite"> White
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" value="blue" id="colourBlue"> Blue
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" value="green" id="colourGreen"> Green
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" value="red" id="colourRed"> Red
                        </label>
                    </div>

                    <div class="form-group">
                        <label for="power" if="powerLabel">Power</label>
                        <input type="text" placeholder="2" id="power" class="small-input">
                    </div>

                    <div class="form-group">
                        <label for="toughness" id="toughnessLabel">Toughness</label>
                        <input type="text" placeholder="2" id="toughness" class="small-input">
                    </div>

                    <div class="form-group">
                        <label for="mana" id="manaLabel">Converted Mana Cost</label>
                        <input type="text" placeholder="2" id="mana" class="small-input">
                    </div>


                    <label id="raritylabel">Card Rarity</label>
                    <select id="rarity">
                        <option value="Any" selected>Any</option>
                        <option value="Common">Common</option>
                        <option value="Uncommon">Uncommon</option>
                        <option value="Rare">Rare</option>
                        <option value="Mythic Rare">Mythic Rare</option>
                    </select>


                    <div class="submitButton">
                        <button id="cardSearchButton" class="btn btn-default">Search</button>
                    </div>

                </form>
            </div>
            <h1-custom>Your Deck</h1-custom>
           

        </div>
        <div class="container-right col-md-">
            <h1-custom>Search Result</h1-custom>
            <div id="cardSearchResults"></div>

        </div>
    </div>

@section scripts{
    <script type="text/javascript">
    $(function() {
        $("#cardSearchButton")
            .click(function() {
                var cardName = $("#cardName").val();
                var black = $("#colourBlack").is(":checked");
                var white = $("#colourWhite").is(":checked");
                var blue = $("#colourBlue").is(":checked");
                var green = $("#colourGreen").is(":checked");
                var red = $("#colourRed").is(":checked");
                var power = $("#power").val();
                var toughness = $("#toughness").val();
                var mana = $("#mana").val();
                var rarity = $("#rarity").val();

                var dataJSON =
                    {
                        "isblue": blue,
                        "isRed": red,
                        "isGreen": green,
                        "iswhite": white,
                        "isblack": black,
                        "isColorless": false,
                        "Power": power,
                        "Toughness": toughness,
                        "Cmc": mana,
                        "CmcOperator": "",
                        "rarity": rarity
                    }
                alert(dataJSON);
                $.ajax({
                    type: "POST",
                    url: "api/card/" + cardName,
                    contentType: 'application/json',
                    data: JSON.stringify(dataJSON),
                    success: function () {
                        $('#cardSearchResults').html("div id='result'>Hello</div>");
                    }
                });
                return false;
            });
        });

        function displayReturnedCard(card) {
            if (card.name === null || card.name === undefined) return null;
            $('<p>',
                {
                    text: card.name
                })
                .appendTo("#cardSearchResults");
        }
    </script>
}